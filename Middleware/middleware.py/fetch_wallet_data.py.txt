import requests
import json

API_URL = "https://shido-blockchain-api.com"  # Replace with actual API endpoint

def fetch_transactions():
    """
    Fetch recent transaction data from the blockchain.
    """
    response = requests.get(f"{API_URL}/transactions")
    return response.json()

def fetch_wallet_balances():
    """
    Fetch wallet balances from the blockchain.
    """
    response = requests.get(f"{API_URL}/wallets")
    return response.json()

def main():
    transactions = fetch_transactions()
    wallet_balances = fetch_wallet_balances()

    with open("data/transactions.json", "w") as f:
        json.dump(transactions, f)
    with open("data/wallets.json", "w") as f:
        json.dump(wallet_balances, f)

    print("Transactions and wallet balances fetched and saved.")

if __name__ == "__main__":
    main()
