import json

MIN_BALANCE = 1000

def filter_wallets(wallets, flagged_wallets):
    """
    Filter wallets based on eligibility criteria.
    """
    eligible_wallets = {
        wallet: balance for wallet, balance in wallets.items()
        if wallet not in flagged_wallets and balance >= MIN_BALANCE
    }
    return eligible_wallets

def main():
    with open("data/wallets.json", "r") as f:
        wallets = json.load(f)
    with open("data/flagged_wallets.json", "r") as f:
        flagged_wallets = json.load(f)

    eligible_wallets = filter_wallets(wallets, flagged_wallets)

    with open("data/eligible_wallets.json", "w") as f:
        json.dump(eligible_wallets, f)
    print("Eligible wallets saved.")

if __name__ == "__main__":
    main()
